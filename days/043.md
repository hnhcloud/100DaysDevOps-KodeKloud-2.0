# Docker Ports Mapping

The Nautilus DevOps team is planning to host an application on a nginx-based container. There are number of tickets already been created for similar tasks. One of the tickets has been assigned to set up a nginx container on Application Server 2 in Stratos Datacenter. Please perform the task as per details mentioned below:

- Pull `nginx:stable` docker image on Application Server 2.

- Create a container named `cluster` using the image you pulled.

- Map host port `5002` to container port `80`. Please keep the container in running state.

## Steps

1. Login into App Server 2
2. Pull the docker image

    ```sh
    docker pull nginx:stable
    ```

3. Create a container with port mapping

    ```sh
    docker run -d --name cluster -p 5002:80 nginx:stable
    ```

4. Make sure container is running

    ```sh
    docker ps
    ```

## Good to Know?

### Docker Port Mapping

- **Purpose**: Expose container services to host network
- **Traffic Routing**: Route host traffic to container ports
- **Service Access**: Make containerized services accessible
- **Load Balancing**: Distribute traffic across multiple containers

### Port Mapping Syntax

- **Basic**: `-p host_port:container_port`
- **IP Binding**: `-p host_ip:host_port:container_port`
- **Protocol**: `-p port:port/tcp` or `-p port:port/udp`
- **Random Port**: `-P` maps all exposed ports to random host ports

### NGINX Container

- **Web Server**: High-performance HTTP server and reverse proxy
- **Default Port**: Listens on port 80 inside container
- **Static Content**: Serves static files efficiently
- **Reverse Proxy**: Can proxy requests to backend services

### Container States

- **Running**: Container is actively executing
- **Stopped**: Container exists but not running
- **Paused**: Container processes are paused
- **Restarting**: Container is in restart loop
