# Git Stash

The Nautilus application development team was working on a git repository `/usr/src/kodekloudrepos/ecommerce` present on Storage server in Stratos DC. One of the developers stashed some in-progress changes in this repository, but now they want to restore some of the stashed changes. Find below more details to accomplish this task:

- Look for the stashed changes under `/usr/src/kodekloudrepos/ecommerce` git repository, and restore the stash with stash@{1} identifier. Further, commit and push your changes to the origin.

## Steps

1. Login into storage server and move into repository

    ```sh
    sudo -i
    cd /usr/src/kodekloudrepos/ecommerce
    ```

2. Let's check the stash list:

    ```sh
    git stash list
    ```

    ```shell
    [root@ststor01 ecommerce]# git stash list
    stash@{0}: WIP on master: 7fe985d initial commit
    stash@{1}: WIP on master: 7fe985d initial commit
    ```

3. Restart stash files

    ```sh
    git stash apply stash@{1}
    ```

4. Push changes

    ```sh
    git add .
    git commit -m "Restored stash files"
    git push
    ```

## Good to Know?

### Git Stash Purpose

- **Temporary Storage**: Save work-in-progress without committing
- **Branch Switching**: Clean working directory for branch changes
- **Emergency Fixes**: Quickly switch to fix urgent issues
- **Experiment**: Try different approaches without losing work

### Stash Operations

- **Save**: `git stash` or `git stash push -m "message"`
- **List**: `git stash list` - Show all stashes
- **Apply**: `git stash apply stash@{n}` - Restore without removing
- **Pop**: `git stash pop` - Apply and remove latest stash

### Stash Management

- **Multiple Stashes**: Stack of saved changes
- **Naming**: Use descriptive messages for identification
- **Selective**: `git stash push -p` for partial stashing
- **Cleanup**: `git stash drop stash@{n}` to remove stash

### Advanced Stashing

- **Include Untracked**: `git stash -u` includes new files
- **Include Ignored**: `git stash -a` includes ignored files
- **Branch from Stash**: `git stash branch name` creates branch
- **Show Changes**: `git stash show -p stash@{n}` displays diff
