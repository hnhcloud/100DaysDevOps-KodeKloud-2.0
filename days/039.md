# Create a Docker Image From a Container

One of the Nautilus developer was working to test new changes on a container. He wants to keep a backup of his changes to the container. A new request has been raised for the DevOps team to create a new image from this container. Below are more details about it:

- Create an image `ecommerce:nautilus` on `Application Server 3` from a container `ubuntu_latest` that is running on same server.

## Steps

To create a docker image from a running container, we can use the following command:

```sh
docker commit container-name image-repository:tag
```

In this case, the actual command is:

```sh
docker commit ubuntu_latest ecommerce:nautilus
```

## Good to Know?

### Docker Commit

- **Purpose**: Create new image from container's changes
- **Snapshot**: Captures current state of container
- **Layer Addition**: Adds new layer on top of base image
- **Persistence**: Preserves modifications made to container

### When to Use Commit

- **Quick Prototyping**: Rapid image creation during development
- **Manual Changes**: Capture manual configurations
- **Debugging**: Save state for later analysis
- **Backup**: Create checkpoint of working container

### Commit vs Dockerfile

- **Dockerfile**: Preferred for production (reproducible, version-controlled)
- **Commit**: Good for experimentation and quick fixes
- **Transparency**: Dockerfile shows exact build steps
- **Automation**: Dockerfile enables automated builds

### Best Practices

- **Documentation**: Add commit message explaining changes
- **Minimize Layers**: Avoid excessive commits
- **Clean State**: Remove temporary files before commit
- **Dockerfile Migration**: Convert successful commits to Dockerfile
