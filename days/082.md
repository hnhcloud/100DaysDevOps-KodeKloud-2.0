# Create Ansible Inventory for App Server Testing

The Nautilus DevOps team is testing Ansible playbooks on various servers within their stack. They've placed some playbooks under /home/thor/playbook/ directory on the jump host and now intend to test them on app server 1 in Stratos DC. However, an inventory file needs creation for Ansible to connect to the respective app. Here are the requirements:

a. Create an ini type Ansible inventory file `/home/thor/playbook/inventory` on jump host.

b. Include App Server 1 in this inventory along with necessary variables for proper functionality.

c. Ensure the inventory hostname corresponds to the server name as per the wiki, for example stapp01 for app server 1 in Stratos DC.

Note: Validation will execute the playbook using the command ansible-playbook -i inventory playbook.yml. Ensure the playbook functions properly without any extra arguments.

## Steps

1. Create an inventory file:
    - Move into directory and create the file

    ```sh
    cd playbook
    vi inventory
    ```

    - copy-paste contents into inventory file

    ```ini
    [app]
    stapp01

    [app:vars]
    ansible_user=tony
    ansible_ssh_password=Ir0nM@n
    ansible_ssh_common_args='-o StrictHostKeyChecking=no'
    ```

2. Run the ansible playbook command:

    ```sh
    ansible-playbook -i inventory playbook.yml
    ```

## Good to Know?

### Ansible Inventory

- **Purpose**: Define managed nodes and their properties
- **Formats**: INI, YAML, JSON formats supported
- **Groups**: Organize hosts into logical groups
- **Variables**: Define host and group variables

### Inventory Structure

- **Hosts**: Individual server definitions
- **Groups**: Collections of related hosts
- **Group Variables**: Variables applied to all group members
- **Host Variables**: Variables specific to individual hosts

### Connection Variables

- **ansible_user**: SSH username for connection
- **ansible_ssh_password**: SSH password (use vault for security)
- **ansible_host**: Target hostname or IP address
- **ansible_port**: SSH port (default 22)
- **ansible_ssh_common_args**: Additional SSH arguments

### Best Practices

- **Group Organization**: Group hosts by function, environment
- **Variable Hierarchy**: Use group_vars and host_vars directories
- **Security**: Use Ansible Vault for sensitive data
- **Documentation**: Comment inventory files for clarity
