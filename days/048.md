# Deploy Pods in Kubernetes Cluster

The Nautilus DevOps team is diving into Kubernetes for application management. One team member has a task to create a pod according to the details below:

- Create a pod named pod-httpd using the httpd image with the latest tag. Ensure to specify the tag as httpd:latest.

- Set the app label to httpd_app, and name the container as httpd-container.

> Note: The kubectl utility on jump_host is configured to operate with the Kubernetes cluster.

## Steps

- Create a `k3s-pod.yml` file inside the jump host with this [contents](../files/k3s-pod.yml)
- Run the following command to create pod in kubernetes cluster:

    ```sh
    kubectl apply -f k3s-pod.yml
    ```

- Check if pod is running or not:

    ```sh
    kubectl get pods
    ```

## Good to Know?

### Kubernetes Pods

- **Smallest Unit**: Basic deployable unit in Kubernetes
- **Container Group**: One or more containers sharing resources
- **Shared Network**: Containers share IP address and ports
- **Shared Storage**: Volumes mounted to all containers in pod

### Pod Lifecycle

- **Pending**: Pod accepted but not yet scheduled
- **Running**: Pod bound to node and containers created
- **Succeeded**: All containers terminated successfully
- **Failed**: At least one container failed
- **Unknown**: Pod state cannot be determined

### YAML Manifest Structure

- **apiVersion**: Kubernetes API version
- **kind**: Resource type (Pod, Deployment, Service)
- **metadata**: Name, labels, annotations
- **spec**: Desired state specification

### kubectl Commands

- **Create**: `kubectl apply -f pod.yaml`
- **List**: `kubectl get pods`
- **Describe**: `kubectl describe pod pod-name`
- **Logs**: `kubectl logs pod-name`
- **Delete**: `kubectl delete pod pod-name`
