# Install and Configure Web Application

xFusionCorp Industries is planning to host two static websites on their infra in Stratos Datacenter. The development of these websites is still in-progress, but we want to get the servers ready. Please perform the following steps to accomplish the task:

- Install `httpd` package and dependencies on `app server 3`.
- `Apache` should serve on port `6400`.
- There are two website's backups `/home/thor/official` and `/home/thor/games` on `jump_host`. Set them up on `Apache` in a way that official should work on the link `http://localhost:6400/official/` and games should work on link `http://localhost:6400/games/` on the mentioned app server.
- Once configured you should be able to access the website using curl command on the respective app server, i.e `curl http://localhost:6400/official/` and `curl http://localhost:6400/games/`

## Steps

1. Login into App Server 3 and Install httpd

    ```sh
    sudo yum install -y httpd
    ```

2. Change Apache port:

    ```sh
    sudo cp /etc/httpd/conf/httpd.conf /etc/httpd/conf/httpd.conf.bak
    sudo sed -i 's/80/6400/g' /etc/httpd/conf/httpd.conf
    ```

3. Restart Apache Server

    ```sh
    sudo systemctl restart httpd
    ```

4. Copy backup from Jump Host to App Server

    ```sh
    scp -r /home/thor/official banner@stapp03:/home/banner
    scp -r /home/thor/games banner@stapp03:/home/banner/
    ```

5. Place websites

    ```sh
    sudo cp -r /home/banner/official /var/www/html/
    sudo cp -r /home/banner/games /var/www/html
    ```

6. Restart `httpd`

7. Verify result

    ```sh
    curl http://localhost:6400/games/
    curl http://localhost:6400/official/
    ```

    ```html
    <!DOCTYPE html>
    <html>
    <body>

    <h1>KodeKloud</h1>

    <p>This is a sample page for our official website</p>

    </body>
    </html>
    ```

## Good to Know?

### Apache Virtual Hosts

- **Name-based**: Multiple sites on same IP using different hostnames
- **IP-based**: Different sites on different IP addresses
- **Port-based**: Different sites on different ports
- **Directory-based**: Different sites in subdirectories

### Document Root Structure

- **Main Document Root**: `/var/www/html/` (default)
- **Subdirectories**: Organize content in folders
- **Index Files**: `index.html`, `index.php` served automatically
- **Permissions**: Ensure Apache can read files (644 for files, 755 for directories)

### Apache Configuration

- **Main Config**: `/etc/httpd/conf/httpd.conf`
- **Virtual Hosts**: `/etc/httpd/conf.d/`
- **Modules**: Enable/disable Apache modules
- **Directory Directives**: Control access and behavior per directory

### Web Application Deployment

- **Static Content**: HTML, CSS, JavaScript, images
- **Dynamic Content**: PHP, Python, server-side processing
- **Security**: Disable directory browsing, hide sensitive files
- **Performance**: Enable compression, caching headers
