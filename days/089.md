# Ansible Manage Services

Developers are looking for dependencies to be installed and run on Nautilus app servers in Stratos DC. They have shared some requirements with the DevOps team. Because we are now managing packages installation and services management using Ansible, some playbooks need to be created and tested. As per details mentioned below please complete the task:

a. On jump host create an Ansible playbook `/home/thor/ansible/playbook.yml` and configure it to install `httpd` on all app servers.

b. After installation make sure to `start` and `enable` `httpd` service on all app servers.

c. The inventory `/home/thor/ansible/inventory` is already there on jump host.

d. Make sure user `thor` should be able to run the playbook on jump host.

Note: Validation will try to run playbook using command `ansible-playbook -i inventory playbook.yml` so please make sure playbook works this way, without passing any extra arguments.

## Steps

0. Move into ansible directory:

    ```sh
    cd ansible
    ls
    ```

1. Create empty playbook.yml file:

    ```sh
    touch playbook.yml
    ```

2. Update `playbook.yml` with the contents from this [YAML file](../files/ansible_playbook_httpd_install.yml)

3. Run the playbook command:

    ```sh
    ansible-playbook -i inventory playbook.yml
    ```

## Good to Know?

### Ansible Service Management

- **service Module**: Manage system services (start, stop, restart)
- **systemd Module**: Specific to systemd-based systems
- **State Management**: Control service running state
- **Boot Configuration**: Enable/disable services at boot

### Service States

- **started**: Ensure service is running
- **stopped**: Ensure service is not running
- **restarted**: Restart service (stop then start)
- **reloaded**: Reload service configuration

### Service Configuration

- **enabled**: Start service at boot time
- **disabled**: Don't start service at boot
- **masked**: Prevent service from being started
- **daemon_reload**: Reload systemd configuration

### Web Server Management

- **Installation**: Install web server package
- **Configuration**: Configure server settings
- **Service Control**: Start and enable service
- **Content Deployment**: Deploy web content
- **Monitoring**: Ensure service remains running
